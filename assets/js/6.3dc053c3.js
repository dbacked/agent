(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{176:function(t,e,a){"use strict";a.r(e);a(12),a(21),a(88),a(23),a(22);var n={mounted:function(){!function(){var t=document.querySelectorAll("div[id^='asciicast-']");[].forEach.call(t,function(t){if(!t.dataset.player){var e="https://asciinema.org",a=t.id.split("-")[1],n=document.createElement("div");n.id="asciicast-container-"+a,n.className="asciicast",n.style.display="block",n.style.float="none",n.style.overflow="hidden",n.style.padding=0,n.style.margin="20px 0",function(t,e){t.parentNode.insertBefore(e,t.nextSibling)}(t,n);var i=document.createElement("iframe");i.src=e+"/a/"+a+"/embed"+function(t,e){return"?"+["size","speed","autoplay","loop","theme","t","preload","cols","rows"].map(function(t){var a=e.getAttribute("data-"+t);if(a)return t+"="+a}).filter(Boolean).join("&")}(0,t),i.id="asciicast-iframe-"+a,i.name="asciicast-iframe-"+a,i.scrolling="no",i.setAttribute("allowFullScreen","true"),i.style.overflow="hidden",i.style.margin=0,i.style.border=0,i.style.display="inline-block",i.style.width="100%",i.style.float="none",i.style.visibility="hidden",i.onload=function(){this.style.visibility="visible"},n.appendChild(i),window.addEventListener("message",function(t){if(t.origin===e){var a=t.data[0],n=t.data[1],o=i.contentWindow||i;t.source==o&&"asciicast:size"==a&&(i.style.width=n.width+"px",i.style.height=n.height+"px")}},!1),t.dataset.player=n}})}()}},i=a(0),o=Object(i.a)(n,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content"},[t._m(0),t._v(" "),a("p",[t._v("There is multiple ways to install the DBacked agent depending on your platform and how much control you want over the installation.")]),t._v(" "),t._m(1),t._v(" "),t._m(2),t._v(" "),t._m(3),t._m(4),t._v(" "),a("p",[t._v("If you are using a linux distribution which boots SystemD (like Ubuntu, Debian, Fedora or ArchLinux), the install process will detect it and create a service to start DBacked at startup.")]),t._v(" "),t._m(5),t._v(" "),a("div",{attrs:{id:"asciicast-CEMkb0yQituoE21tz3KDohyH3"}}),t._v(" "),t._m(6),t._v(" "),a("p",[t._v("If your infrastructure is running with Docker, I packaged the binary in a container for you. The container image is hosted on Docker Hub: "),a("a",{attrs:{href:"https://hub.docker.com/r/geekuillaume/dbacked/",target:"_blank",rel:"noopener noreferrer"}},[t._v("dbacked/agent"),a("OutboundLink")],1),t._v(".")]),t._v(" "),a("p",[t._v("You can run it from the command line with "),a("code",[t._v("docker run geekuillaume/dbacked dbacked start-agent")]),t._v(" but by default it will do nothing as you need to configure it. You can use environment variables, command line arguments or a configuration file to do so. For more information, look at the "),a("router-link",{attrs:{to:"./configuration.html"}},[t._v("configuration documentation")]),t._v(".")],1),t._v(" "),a("p",[t._v("Don't forget that if you are running your database in a Docker container, you need to link the DBacked container to it. This will allow DBacked to reach your database. To do so, use the "),a("a",{attrs:{href:"https://docs.docker.com/compose/compose-file/#depends_on",target:"_blank",rel:"noopener noreferrer"}},[a("code",[t._v("depends_on")]),a("OutboundLink")],1),t._v(" configuration with Docker Compose or the "),a("a",{attrs:{href:"https://docs.docker.com/engine/reference/commandline/run/",target:"_blank",rel:"noopener noreferrer"}},[a("code",[t._v("--link")]),a("OutboundLink")],1),t._v(" argument with the Docker CLI.")]),t._v(" "),t._m(7),t._v(" "),a("p",[t._v("If you want to be sure of what you're installing on your servers, you can manually compile and install the binary.")]),t._v(" "),t._m(8),t._v(" "),t._m(9),t._v(" "),a("p",[t._v("Without the interactive install, you'll need to configure it manually. For more information, look at the "),a("router-link",{attrs:{to:"./configuration.html"}},[t._v("configuration documentation")]),t._v(".")],1)])},[function(){var t=this.$createElement,e=this._self._c||t;return e("h1",{attrs:{id:"getting-started"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#getting-started","aria-hidden":"true"}},[this._v("#")]),this._v(" Getting started")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"interactive-installation"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#interactive-installation","aria-hidden":"true"}},[this._v("#")]),this._v(" Interactive installation")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("DBacked includes an interactive installer that will ask you everything it needs to start backing up your database. To start the installer, download the binary and use the "),e("code",[this._v("install-agent")]),this._v(" command:")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{attrs:{class:"token function"}},[this._v("wget")]),this._v(" https://dl.dbacked.com/dbacked -O ./dbacked\n"),e("span",{attrs:{class:"token function"}},[this._v("chmod")]),this._v(" +x ./dbacked\n"),e("span",{attrs:{class:"token function"}},[this._v("sudo")]),this._v(" ./dbacked install-agent\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("This will create the "),e("code",[this._v("/etc/dbacked/config.json")]),this._v(" file populated with the responses you provided and copy the binary to "),e("code",[this._v("/usr/local/bin/dbacked")]),this._v(". This is why running as the superuser is required. Of course, you don't need to execute the agent as a superuser afterwards.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("If you're not using SystemD, you'll need to configure your server to start DBacked at boot. There's multiple way to do it depending on your configuration but you'll need to make sure that "),e("code",[this._v("/usr/local/bin/dbacked start-agent")]),this._v(" is launched.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"docker"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#docker","aria-hidden":"true"}},[this._v("#")]),this._v(" Docker")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"manual-compilation-and-installation"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#manual-compilation-and-installation","aria-hidden":"true"}},[this._v("#")]),this._v(" Manual compilation and installation")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("p",[t._v("DBacked is a NodeJS program so you'll need NodeJS on your machine to build it (tested on v10.1.0). First, install the dependencies with "),a("code",[t._v("npm install")]),t._v(", compile the Typescript sources with "),a("code",[t._v("npm run build:ts")]),t._v(" and finaly package it in a binary with "),a("code",[t._v("npm run build:bin")]),t._v(". It will then be saved as "),a("code",[t._v("dbacked")]),t._v(" in your current working directory.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("To launch it, you need to use the "),e("code",[this._v("dbacked start-agent")]),this._v(" command. This will launch the long-lived process that will watch the database and launch a backup when needed. You can also use the "),e("code",[this._v("--daemon")]),this._v(" argument to launch it as a daemon and detach it from your current session. Make sure the agent is started at boot.")])}],!1,null,null,null);o.options.__file="getting-started.md";e.default=o.exports}}]);