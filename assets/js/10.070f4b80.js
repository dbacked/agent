(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{177:function(e,t,a){"use strict";a.r(t);a(12),a(21),a(88),a(23),a(22);var i={mounted:function(){!function(){var e=document.querySelectorAll("div[id^='asciicast-']");[].forEach.call(e,function(e){if(!e.dataset.player){var t="https://asciinema.org",a=e.id.split("-")[1],i=document.createElement("div");i.id="asciicast-container-"+a,i.className="asciicast",i.style.display="block",i.style.float="none",i.style.overflow="hidden",i.style.padding=0,i.style.margin="20px 0",function(e,t){e.parentNode.insertBefore(t,e.nextSibling)}(e,i);var s=document.createElement("iframe");s.src=t+"/a/"+a+"/embed"+function(e,t){return"?"+["size","speed","autoplay","loop","theme","t","preload","cols","rows"].map(function(e){var a=t.getAttribute("data-"+e);if(a)return e+"="+a}).filter(Boolean).join("&")}(0,e),s.id="asciicast-iframe-"+a,s.name="asciicast-iframe-"+a,s.scrolling="no",s.setAttribute("allowFullScreen","true"),s.style.overflow="hidden",s.style.margin=0,s.style.border=0,s.style.display="inline-block",s.style.width="100%",s.style.float="none",s.style.visibility="hidden",s.onload=function(){this.style.visibility="visible"},i.appendChild(s),window.addEventListener("message",function(e){if(e.origin===t){var a=e.data[0],i=e.data[1],o=s.contentWindow||s;e.source==o&&"asciicast:size"==a&&(s.style.width=i.width+"px",s.style.height=i.height+"px")}},!1),e.dataset.player=i}})}()}},s=a(0),o=Object(s.a)(i,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"content"},[e._m(0),e._v(" "),a("p",[e._v("DBacked doesn't stop at backing up your database, it also takes care of the restore process. It's necessary because the backups created are not plug-and-play with "),a("code",[e._v("pg_restore")]),e._v(", "),a("code",[e._v("mysqlrestore")]),e._v(" or "),a("code",[e._v("mongorestore")]),e._v(" ("),a("router-link",{attrs:{to:"./implementation-details.html#backup-process"}},[e._v("Here's why")]),e._v(").")],1),e._v(" "),a("p",[e._v("The easiest way is to use the "),a("code",[e._v("dbacked restore")]),e._v(" command. It will use the current config file ("),a("router-link",{attrs:{to:"./configuration.html"}},[e._v("see configuration page")]),e._v(") and fetch the list of available backups from S3 for DBacked Free and DBacked API for the pro version.")],1),e._v(" "),e._m(1),e._v(" "),a("div",{attrs:{id:"asciicast-3JiHpWmaYpRfT3lKddIAFa0xI"}}),e._v(" "),e._m(2),e._v(" "),a("p",[e._v("DBacked includes multiple restore specific flags to allow you to automate the restore process:")]),e._v(" "),e._m(3)])},[function(){var e=this.$createElement,t=this._self._c||e;return t("h1",{attrs:{id:"restore-a-backup"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#restore-a-backup","aria-hidden":"true"}},[this._v("#")]),this._v(" Restore a backup")])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[this._v("You need to specify the private key with the "),t("code",[this._v("--private-key-path")]),this._v(" argument or the environment variable "),t("code",[this._v("DBACKED_PRIVATE_KEY")]),this._v(".")])},function(){var e=this.$createElement,t=this._self._c||e;return t("h2",{attrs:{id:"restore-specific-flags"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#restore-specific-flags","aria-hidden":"true"}},[this._v("#")]),this._v(" Restore specific flags")])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ul",[a("li",[a("code",[e._v("--last-backup")]),e._v(": doesn't ask you to choose the backup, uses the last one")]),e._v(" "),a("li",[a("code",[e._v("--private-key-path")]),e._v(": RSA PEM formatted private key to use to decrypt the backup, can be password protected")]),e._v(" "),a("li",[a("code",[e._v("--force")]),e._v(": Do not ask for confirmation before restore")]),e._v(" "),a("li",[a("code",[e._v("--raw-input")]),e._v(": Do not download backup from S3, read from stdin (you need to pipe with something like this "),a("code",[e._v("cat backup | dbacked restore --raw-input")]),e._v(")")]),e._v(" "),a("li",[a("code",[e._v("--raw-output")]),e._v(": Do not pipe in database restore process but output decrypted backup without any DBacked specific formating")]),e._v(" "),a("li",[a("code",[e._v("-y")]),e._v(": Do not ask for questions during process, only use env variables and arguments")])])}],!1,null,null,null);o.options.__file="restore.md";t.default=o.exports}}]);